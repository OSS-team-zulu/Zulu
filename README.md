
# Zulu
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)             ![Backend unit tests](https://github.com/OSS-team-zulu/Zulu/workflows/Backend%20unit%20tests/badge.svg?branch=master)

### Table of contents:
- [About Zulu](#about-zulu)
    + [Zulu - A Local exploration App](#zulu---a-local-exploration-app)
  * [Basic Structure](#basic-structure)
- [Contributing](#contributing)
    + [Bugs & Issues](#bugs---issues)
    + [Contributing code](#contributing-code)
    + [Tracking tasks](#tracking-tasks)
  * [Team Info](#team-info)
- [Running Zulu](#running-zulu)
  * [Getting Started](#getting-started)
  * [Running the full stack with Docker:](#running-the-full-stack-with-docker-)
  * [Running FE locally for development](#running-fe-locally-for-development)
  * [Running BE locally for development](#running-be-locally-for-development)
    + [Loading sample data](#loading-sample-data)
    + [Running tests](#running-tests)

# About Zulu

### Zulu - A Local exploration App

*A social platform that allows viewing stories based on geographical location*

 - A local social app where people can share (anonymously or otherwise) personal histories attached to specific locations. Ranging from historical tidbits and recommendations to personal stories about life events or emotions connected to this location.
 - Users can become tourists in familiar locations, viewing the world through other's eyes, as well as a more intimate peak into
 - Main interface is a map of local stories.
	 - Only a users immediate surroundings can be seen?


## Basic Structure

* A backend server, written in Python using FastAPI.
* A MongoDB database.
* A react frontend.

Deployment is automated using docker via `docker-compose`


# Contributing
This project is under the [MIT License](./LICENSE.md)
### Bugs & Issues
Feel free to report bugs and open issues in this repository

### Contributing code
Code contributions are welcomed!

First, read the guidelines at the **Backend** and **Frontend** sections in order to setup a development environment. 

Afterwards:
1. Fork this repository
2. Apply your code changes in your forked branch
3. Open a pull request

### Tracking tasks
1. Tasks are tracked using GitHub issues
2. We use GitHub Kanban board for planning - [https://github.com/OSS-team-zulu/Zulu/projects/1](https://github.com/OSS-team-zulu/Zulu/projects/1)

## Team Info

 - FE lead - **Joshua Herskowitz** -  https://github.com/jherskow
 - Frameworks + QA  - **Batkiller Ariel** -
 - Security - **Nitai Mordechai** - https://github.com/Nitay880
 - Data Science & BI - **Matanel Oren** - https://github.com/matanel-oren
 - BE lead- **Nadav Goldin** - https://github.com/nvgoldin

# Running Zulu

## Getting Started

1. Make sure you have [docker-compose](https://docs.docker.com/compose/install/) installed.
2. Clone this Repository: 
	```shell
	git clone https://github.com/OSS-team-zulu/Zulu.git
	cd Zulu
	```
**Note**: In Windows 10 (version 2004 and above), you can use [Docker Desktop](https://docs.docker.com/docker-for-windows/install/) instead. Make sure it is running before you start developing.

## Running the full stack with Docker:
Bring up the services using `docker-compose`:
```shell
	docker-compose up
```
Once running, the web UI can be found at: http://localhost:8085
An autogenerated Backend API interface is at: http://localhost:8086/docs 

## Running FE locally for development
1. Navigate to the FE directory.
	  ```shell
	  cd frontend/zulu
	  ```

2. Make sure you have [npm](https://nodejs.org/en/download/) installed and run:
	  ```shell
	  npm install
	  npm run start
	  ```

4. The react site should be live at http://localhost:3000

5. If live reloading is not working, you may need to install [Chrome Allow CORS extension](https://mybrowseraddon.com/access-control-allow-origin.html) and 
   enable it while developing.

6. To integrate with the backend, make sure it is running at http://localhost:8342


## Running BE locally for development
1. Make sure you have the following programs installed:
   *  [mkvirtualenv](https://virtualenvwrapper.readthedocs.io/en/latest/install.html) for easy Python virtual environment management.
   * Python 3.8
   *  [docker-compose](https://docs.docker.com/compose/install/) in order to run [MongoDB](https://www.mongodb.com/). 

In Windows 10, just run ```pip install virtualenvwrapper-win``` to install mkvirtualenv, and use [Docker Desktop](https://docs.docker.com/docker-for-windows/install/) to enable using docker-compose. Make sure it is running before you start developing.

2. Setup your Python virtual environment:
   ```shell
   mkvirtualenv -p python3.8 zulu
   ```
3. Install project requirements:
   ```shell
   pip install -r backend/requirements.txt
   pip install -r backend/test-requirements.txt
   ```
4. Starting MongoDB
   ```shell
   docker-compose up -d mongo
   ```
5. Running the API server:
   ```shell
   cd backend
   PYTHONPATH=$PYTHONPATH:$PWD python zulu/server.py
   ```
   Or in Windows:
   ```shell
   cd backend
   set PYTHONPATH=. & python zulu\server.py
   ```
6. The server should be live at http://0.0.0.0:8342
7. Auto-generated API documentation can be found at  http://0.0.0.0:8342/docs 

### Loading sample data
In order to load a sample data from Israel
1. Make sure your API server and MongoDB are running
2. Run:
	```python
	python contrib/load_points.py
	```
### Running tests
1. Make sure MongoDB is up (**warning**: the tests would remove its data)
2. Run:
	  ```bash
	  PYTHONPATH=$PYTHONPATH:$PWD pytest -vvv -s tests/
	  ```
   In Windows:
   ```bash
   set PYTHONPATH=. & pytest -vvv -s tests\
   ```
